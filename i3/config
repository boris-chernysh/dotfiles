set $mod Mod4

set $terminal kitty
set $lock gnome-screensaver-command -l
set $set_wallpapper feh --bg-scale ~/.wallpaper
set $browser google-chrome-stable

exec nm-applet
exec $set_wallpapper
exec compton -b --backend glx --vsync opengl-swc --xrender-sync
exec gnome-screensaver

set $tag1 1.Workplace
set $tag2 2.Workplace
set $tag3 3.IM
set $tag4 4.Playground
set $tag5 5.Music
set $tag6 6.Education
set $tag7 7.Interview
set $tag8 8.Email

set $fontName SFNS Display
set $fontSize 11
font pango:$fontName $fontSize

bindsym Print exec ~/dotfiles/bin/mk_screenshot.sh
bindsym $mod+d exec gmrun
bindsym $mod+Return exec $terminal
bindsym $mod+Shift+q kill

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+b split h
bindsym $mod+v split v

bindsym $mod+f fullscreen

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

bindsym $mod+1 workspace $tag1
bindsym $mod+2 workspace $tag2
bindsym $mod+3 workspace $tag3
bindsym $mod+4 workspace $tag4
bindsym $mod+5 workspace $tag5
bindsym $mod+6 workspace $tag6
bindsym $mod+7 workspace $tag7
bindsym $mod+8 workspace $tag8

bindsym $mod+Shift+1 move container to workspace $tag1
bindsym $mod+Shift+2 move container to workspace $tag2
bindsym $mod+Shift+3 move container to workspace $tag3
bindsym $mod+Shift+4 move container to workspace $tag4
bindsym $mod+Shift+5 move container to workspace $tag5
bindsym $mod+Shift+6 move container to workspace $tag6
bindsym $mod+Shift+7 move container to workspace $tag7
bindsym $mod+Shift+8 move container to workspace $tag8

bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

bindsym $mod+g exec $browser
bindsym $mod+t border toggle
bindsym $mod+m bar mode toggle

bindsym XF86AudioRaiseVolume exec amixer -q -D pulse sset Master 7%+, exec pkill -SIGRTMIN+2 i3blocks
bindsym XF86AudioLowerVolume exec amixer -q -D pulse sset Master 7%-, exec pkill -SIGRTMIN+2 i3blocks
bindsym XF86AudioMute exec amixer -q -D pulse sset Master toggle, exec pkill -SIGRTMIN+2 i3blocks

bindsym XF86MonBrightnessDown exec xbacklight -dec 10, exec pkill -SIGRTMIN+3 i3blocks
bindsym XF86MonBrightnessUp exec xbacklight -inc 10, exec pkill -SIGRTMIN+3 i3blocks

bindsym XF86Display exec xrandr --output eDP1 --auto --output HDMI1 --off --output DP1 --off, exec pkill -SIGRTMIN+4 i3blocks
bindsym $mod+XF86Display exec xrandr --output eDP1 --off --output HDMI1 --auto --output DP1 --auto, exec pkill -SIGRTMIN+4 i3blocks

# listen ctrl and send code 1 for i3block layout command
bindcode 37 exec pkill -SIGRTMIN+1 i3blocks

set $monitos_mode_title "Monitors: h/j/k/l for left/down/up/right"

mode $monitos_mode_title {
	bindsym h move workspace to output left
	bindsym j move workspace to output down
	bindsym k move workspace to output up
	bindsym l move workspace to output right

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+Shift+m mode $monitos_mode_title

mode "resize" {
	bindsym h resize shrink width 10 px or 10 ppt
	bindsym j resize grow height 10 px or 10 ppt
	bindsym k resize shrink height 10 px or 10 ppt
	bindsym l resize grow width 10 px or 10 ppt

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

set $power_mode_title "Power: [L]ock, [H]ybernate, [S]hutdown, [R]eboot"

mode $power_mode_title {
	bindsym l exec $lock, mode "default"
	bindsym h exec systemctl hibernate, mode "default"
	bindsym s exec systemctl poweroff, mode "default"
	bindsym r exec systemctl reboot, moide "default"

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+q mode $power_mode_title

set $im_mode_title "IM:  [T]elegram, [S]lack"

mode $im_mode_title {
	bindsym t exec $browser --app="http://web.telegram.org", mode "default"
	bindsym s exec slack, mode "default"

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+i mode $im_mode_title

bindsym $mod+Shift+p move scratchpad
bindsym $mod+p scratchpad show

set $background_color #2c2c2cee
set $background_urgent_color #d24184
set $font_color #e0e0e0
set $font_accent_color #58B48c
set $font_secondary_color #545454
set $indicator_color #b58900

bar {
	position top
	i3bar_command i3bar -t
	status_command i3blocks -c ~/dotfiles/i3/i3blocks.conf
	workspace_buttons yes
	colors {
		background $background_color
		statusline $font_color
		separator $font_secondary_color
		focused_workspace $background_color $background_color $font_accent_color
		active_workspace $background_color $background_color $font_accent_color
		inactive_workspace $background_color $background_color $font_secondary_color
		urgent_workspace $background_urgent_color $background_urgent_color $font_color
	}
}

client.focused $background_color $background_color $font_accent_color $indicator_color
client.focused_inactive $background_color $background_color $font_secondary_color $indicator_color
client.unfocused $background_color $background_color $font_secondary_color $indicator_color
client.urgent $background_urgent_color $background_urgent_color $font_color $indicator_color

gaps inner 0
gaps outer 0

default_border none

for_window [class=".*"] title_format " %title"
